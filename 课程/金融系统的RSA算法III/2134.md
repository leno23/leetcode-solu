2134. 最少交换次数来组合所有的 1 II

交换 定义为选中一个数组中的两个 互不相同 的位置并交换二者的值。

环形 数组是一个数组，可以认为 第一个 元素和 最后一个 元素 相邻 。

给你一个 二进制环形 数组 nums ，返回在 任意位置 将数组中的所有 1 聚集在一起需要的最少交换次数。

示例 1：

输入：nums = [0,1,0,1,1,0,0]
输出：1
解释：这里列出一些能够将所有 1 聚集在一起的方案：
[0,0,1,1,1,0,0] 交换 1 次。
[0,1,1,1,0,0,0] 交换 1 次。
[1,1,0,0,0,0,1] 交换 2 次（利用数组的环形特性）。
无法在交换 0 次的情况下将数组中的所有 1 聚集在一起。
因此，需要的最少交换次数为 1 。

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var minSwaps = function (nums) {
    // 定宽滑动窗口，宽度为窗口中1的个数，窗口中0的个数即当前位置需要交换的次数
    let ans = Infinity, z_cnt = 0, cnt = 0, n = nums.length
    // 统计1的个数
    for (let x of nums) if (x == 1) cnt++
    // 统计窗口中0的个数
    for (let i = 0; i < cnt; i++) if (nums[i] == 0) z_cnt++
    let r = cnt - 1
    for (let l = 0; l < n; l++) {
        // 最少交换次数，取每个位置时的交换次数的最小值
        ans = Math.min(ans, z_cnt)
        // 窗口范围 [l,r]  [l,r]中有z_cnt 个零，下一个状态[l+1,r+1]
        // 由于左边界离开滑动窗口，如果是0，滑动窗口中0的个数就少一个
        if (nums[l] == 0) z_cnt--
        // r+1位置的数字进入滑动窗口，如果是0，那么滑动窗口中0的个数增肌一个
        // 由于是循环数组，所以需要对于 n 取余
        if (nums[(r + 1) % n] == 0) z_cnt++
        r++
    }
    return ans
};
```
