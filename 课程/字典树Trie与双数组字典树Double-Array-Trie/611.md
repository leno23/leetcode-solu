611. 有效三角形的个数

给定一个包含非负整数的数组 nums ，返回其中可以组成三角形三条边的三元组个数。

示例 1:

输入: nums = [2,2,3,4]
输出: 3
解释:有效的组合是:
2,3,4 (使用第一个 2)
2,3,4 (使用第二个 2)
2,2,3
```js
var triangleNumber = function (nums) {
    // 如果三条边中，两条较小边的和大于最大边的话，那这三条边就可以组成一个三角形
    // 排序使得我们可以枚举到最小的两个边
    nums.sort((a, b) => a - b)
    let res = 0
    // 枚举最大边，从大到小开始枚举
    for (let i = nums.length - 1; i >= 2; i--) {
        // 使用双指针枚举两条较小边l r
        // 次大边也是从大到小开始枚举
        let l = 0, r = i - 1
        while (l < r) {
            // 如果当前两条较小边大于最大边，因为数组是排序的，
            // 所以l+1~r这 r-l条边都可以和nums[r]的和 大于 nums[i]
            //  也就是都可以和nums[r] nums[i]组成三角形
            if (nums[l] + nums[r] > nums[i]) {
                // 更新结果
                res += r - l
                // 尝试下一个更小的次小边的值
                r--
            } else {
                // 因为次大边是从大到小枚举的，所以当前两个小边的和不满足大于最大边的条件，
                // 只能通过增加最小边来调整
                l++
            }
        }

    }
    return res
};