剑指 Offer 62. 圆圈中最后剩下的数字

简单

728

相关企业

0,1,···,n-1这n个数字排成一个圆圈，从数字0开始，每次从这个圆圈里删除第m个数字（删除后从下一个数字开始计数）。求出这个圆圈里剩下的最后一个数字。

例如，0、1、2、3、4这5个数字组成一个圆圈，从数字0开始每次删除第3个数字，则删除的前4个数字依次是2、0、4、1，因此最后剩下的数字是3。

 

**示例 1：**

```
输入: n = 5, m = 3
输出: 3
```

**示例 2：**

```
输入: n = 10, m = 17
输出: 2
```

```py
class Solution:
    def lastRemaining(self, n: int, m: int) -> int:
        r=0
        '''
        ***关注最终剩下那个数字的序号的变化
        假设n=5 m=3  最终剩下的数字为3

        每次删除数字时，3的序号如下： 
        删除第一个数字时  3   0  1 (2) 3 4      
        删除第二个数字时  0            3 4 (0)  1   
        删除第三个数字时  1                     1  3 (4)
        删除第四个数字时  1   (1)  3
                         0   3

        问题来了
        是否可以根据剩下n-1个数字时数字3的序号  推出 n个数字时，数字3的序号？
        假设n个数字时，3的序号为x，序列为 0 1 2 3 4，此时需要删除第m个数字，也就是2
        删除之后，序列变为 3 4 0 1，数字3的序号变为3-m=0
        
        也就是说，如果i个数字时，3的序号为x，那么i-1个数字时他的序号就为x-m
        反过来就是，如果知道了i-1个数字时他的序号为x，那么i个数字时他的序号就为 x+m,为了防止序号溢出，
        需要取余，最终为(x+m)%i

        然后，就可以根据这个关系进行递推了，记最终剩下的数字为x,f(i)为剩下i个数字时，x的序号
        剩一个数字时，x的序号为f(1)=0
        剩两个数字时，x的序号为f(2)=(f(1)+m)%2
        剩三个数字时，x的序号为f(3)=(f(2)+m)%2
        剩四个数字时，x的序号为f(4)=(f(3)+m)%2
        剩五个数字时，x的序号为f(5)=(f(4)+m)%2
        ''' 
        # 从剩下两个数字进行递推
        for i in range(2,n+1):
            r=(r+m) % i
        return r