1454. 异或和是质数的子集数


给出 n� 个**互不相同**的正整数。

问存在多少个子集，使得子集中所有数的异或和是质数。

由于答案可能很大，请你输出对 109+7109+7 取模后的结果。

#### 输入格式

第一行包含整数 n�。

第二行包含 n� 个正整数。

#### 输出格式

输出一个整数，表示满足条件的子集数量对 109+7109+7 取模后的结果。

#### 数据范围

1≤n≤50001≤�≤5000,  
1≤1≤ 给定正整数 ≤5000≤5000。

#### 输入样例：

```
3
1 2 3
```

#### 输出样例：

```
4
```


```py
n=int(input())
a=[int(x) for x in input().split()]
N=10000
# 1是质数 0是合数
primes = [1]*(N+5)
i=2
MOD=10**9 + 7
while i*i<=N:
    if primes[i]==1: 
        j=2
        while i*j<=N:
            primes[i*j]=0
            j+=1
    i+=1
# 正整数最大5000 < 2**13=4096*2,故最大异或和为2**13
M=2**13
# f[i][choose] 前i个数选或不选第i个数，异或和为m的方案数
f=[[0]*M for i in range(n+1)]
# 求方案数初始化
f[0][0]=1

# 01背包 先遍历物品再遍历容量
for i in range(1,n+1):
    # 枚举每种容量(结果)
    for j in range(M):
        # 选或者不选第i个数
        f[i][j]=(f[i-1][j] + f[i-1][j ^ a[i-1]]) % MOD
r=0
# 大于等于1的两个不同的数的异或 最小是2
for i in range(2,M):
    if primes[i]:
        r = (r+ f[n][i]) % MOD
print(r)