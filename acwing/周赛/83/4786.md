4786. 闯关

-   [   题目](https://www.acwing.com/problem/content/description/4789/)
-   [   提交记录](https://www.acwing.com/problem/content/submission/4789/)
-   [   讨论](https://www.acwing.com/problem/content/discussion/index/4789/1/)
-   [   题解](https://www.acwing.com/problem/content/solution/4789/1/)
-   [   视频讲解](https://www.acwing.com/problem/content/video/4789/)

  


某综艺频道推出了一个闯关活动。

活动一共包含 nn 个关卡（编号 1∼n1∼n），其中 mm 个关卡为特殊关卡。

每个关卡都有一个通关分数，其中第 ii 个关卡的通关分数为 aiai。

挑战者可以自由决定所有关卡的具体挑战顺序，并且每通过一个关卡就可以获得该关卡的通关分数。

值得注意的是，当挑战者即将挑战的关卡是特殊关卡时，如果挑战者当前已经获得的总分数大于该特殊关卡的通关分数，则挑战者可以对该关卡的通关分数进行一次修改，修改后的新分数不能小于原分数，也不能大于挑战者当前已经获得的总分数。

请你计算并输出挑战者通过所有关卡获得的总分数的最大可能值。

#### 输入格式

第一行包含两个整数 n,mn,m。

第二行包含 nn 个整数 a1,a2,…,ana1,a2,…,an，表示每个关卡的通过分数。

第三行包含 mm 个整数 b1,b2,…,bmb1,b2,…,bm，表示每个特殊关卡的编号。

#### 输出格式

一个整数，表示挑战者通过所有关卡获得的总分数的最大可能值。

保证最终答案不超过 263−1263−1。

#### 数据范围

前 44 个测试点满足 1≤n≤41≤n≤4。  
所有测试点满足 1≤n,m≤1001≤n,m≤100，m≤min(n,30)m≤min(n,30)，1≤ai≤1071≤ai≤107，1≤bi≤n1≤bi≤n，bibi 两两不同。

#### 输入样例1：

```
4 1
1 3 7 5
3
```

#### 输出样例1：

```
18
```

#### 输入样例2：

```
3 2
10 3 8
2 3
```

#### 输出样例2：

```
40
```

#### 输入样例3：

```
2 2
100 200
1 2
```

#### 输出样例3：

```
400
```

#### 输入样例4：

```
1 1
1
1
```

#### 输出样例4：

```
1
```

```py

'''
贪心思路

首先，按照分数从大到小闯特殊关卡相当于分数进行翻倍操作。

由于特殊关卡可以对已有得分进行翻倍，故先闯普通关卡，得到普通关卡总分start后

如果普通关卡总分start 小于 最大的特殊关卡得分mx，则翻倍次数为m-1。因为第一个特殊关卡先需要继承start，
更新start之后，才能进行翻倍；否则，选择两者较大值作为起始分数，进行翻倍
'''
n,m = map(int,input().split())
a = [int(x) for x in input().split()]
b = [a[int(x)-1] for x in input().split()]

# 普通关卡的总分
start,mx = sum(a)-sum(b),max(b)

# 选择一个更大的作为起始分数
if mx > start:
    # 特殊关卡分数大，第一关不能进行翻倍，需要加上普通关卡的得分
    start += mx
    m-=1
else:
    start = max(mx,start)

# 特殊关卡每闯一关，分数翻倍，一共翻m倍
print(start * 2**m)


```