202. 快乐数

编写一个算法来判断一个数 n 是不是快乐数。

「快乐数」定义为：

对于一个正整数，每一次将该数替换为它每个位置上的数字的平方和。
然后重复这个过程直到这个数变为 1，也可能是 无限循环 但始终变不到 1。
如果 可以变为 1，那么这个数就是快乐数。
如果 n 是快乐数就返回 true ；不是，则返回 false 。

示例 1：

输入：19
输出：true
解释：
12 + 92 = 82
82 + 22 = 68
62 + 82 = 100
12 + 02 + 02 = 1

```js
/**
 * @param {number} n
 * @return {boolean}
 */
var isHappy = function (n) {
  // 由于一个数的下一个数是唯一的，可以想象为链表
    // 是否存在循环相当于链表是否存在环
    // 例如：
    // 19->82->68->100->1    输入19，不存在环
    //  2->4->16->37->58->89->145->42->20   输入2，存在环
    //     ↑___________________________|

    // 使用链表是否存在环的判断逻辑来实现
    // 获取到下一个快乐数
    const getNext = (n) => {
        let res = 0;
        while (n) {
            res += (n % 10) ** 2;
            n = (n / 10) | 0;
        }
        return res;
    };
    let slow = getNext(n),
        fast = getNext(getNext(n));
    // 只不过这里结束遍历的条件是q!=1
    while (fast != 1) {
        // 慢指针一次走一步
        slow = getNext(slow);
        // 快指针一次走两步
        fast = getNext(getNext(fast));
        // 快慢指针相遇，则存在环(循环)
        if (slow == fast) return false;
    }
    // fast == 1结束循环
    return true;
};
```
