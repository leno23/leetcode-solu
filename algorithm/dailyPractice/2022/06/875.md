875. 爱吃香蕉的珂珂

珂珂喜欢吃香蕉。这里有 n 堆香蕉，第 i 堆中有 piles[i] 根香蕉。警卫已经离开了，将在 h 小时后回来。

珂珂可以决定她吃香蕉的速度 k （单位：根/小时）。每个小时，她将会选择一堆香蕉，从中吃掉 k 根。如果这堆香蕉少于 k 根，她将吃掉这堆的所有香蕉，然后这一小时内不会再吃更多的香蕉。

珂珂喜欢慢慢吃，但仍然想在警卫回来前吃掉所有的香蕉。

返回她可以在 h 小时内吃掉所有香蕉的最小速度 k（k 为整数）。

示例 1：

输入：piles = [3,6,7,11], h = 8
输出：4

```js
var minEatingSpeed = function (piles, h) {
    let l = 1,
        r = Math.max(...piles);
    // 如果香蕉数量最多的堆有r根香蕉，那么以r的速度吃完所有香蕉花费的时间为piles.length
    // 而piles.length < h,所以速度最高为r
    // 又因为速度最小为1，所以速度的取值范围就是 1~r
    // 1 2 3 ... n ... r
    // 容易知道在1~r之间肯定存在一个速度n，以这个速度吃香蕉就刚好可以在h小时
    // 吃完所有香蕉，如果速度是n-1时，就不能在h小时吃完所有堆香蕉;
    // 所以，对于1~r的这些速度，前1~n-1个速度取值都不能在h小时内吃完香蕉，
    // 而n~r的这些速度取值都能在h小时内吃完香蕉
    // 故数据满足两段性，可以使用二分搜索
    while (l < r) {
        let mid = Math.floor((l + r) / 2);
        // 以一小时吃mid根香蕉的速度，吃完所有堆的香蕉需要多久
        let time = 0;
        for (let x of piles) time += Math.ceil(x / mid);

        if (time <= h) r = mid;
        else l = mid + 1;
    }
    return l;
};
```
