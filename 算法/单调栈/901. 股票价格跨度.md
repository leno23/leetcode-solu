901. 股票价格跨度

编写一个 StockSpanner 类，它收集某些股票的每日报价，并返回该股票当日价格的跨度。
今天股票价格的跨度被定义为股票价格小于或等于今天价格的最大连续日数
（从今天开始往回数，包括今天）。

例如，如果未来7天股票的价格是 [100, 80, 60, 70, 60, 75, 85]，
那么股票跨度将是 [1, 1, 1, 2, 1, 4, 6]。



```py
class StockSpanner:

    def __init__(self):
        # 求当日股票的跨度，即找到当日左边第一个大于当日价格的天pre，pre天之后到当日
        # 的天数记为跨度，使用单调递减栈维护每个元素左边最大的值，初始化一个最大的左边界值
        self.st=[[1e6, 0]]
        # 记录每天的序号 第一天1 第二天2 ...,便于计算跨度
        self.ind=1


    def next(self, price: int) -> int:
        st=self.st
        # 遇到不符合单调性的元素，弹出，维护单调递减性
        while st and price >= st[-1][0]: st.pop()
        st.append([price,self.ind])
        '''
        当日的跨度为：当天的序号 - 左边第一个大于当日价格的天的序号 
        例如 100 80 60 70
        当天价格为70，序号为4，左边第一个大于当日价格的天是第2天，那么当日的跨度为 4-2=2
        '''
        ret=self.ind-st[-1][1]
        self.ind+=1
        return ret
