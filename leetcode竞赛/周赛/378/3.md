[100184. 找出出现至少三次的最长特殊子字符串 II](https://leetcode.cn/problems/find-longest-special-substring-that-occurs-thrice-ii/)

已解答

中等

相关企业

提示

给你一个仅由小写英文字母组成的字符串 `s` 。

如果一个字符串仅由单一字符组成，那么它被称为 **特殊** 字符串。例如，字符串 `"abc"` 不是特殊字符串，而字符串 `"ddd"`、`"zz"` 和 `"f"` 是特殊字符串。

返回在 `s` 中出现 **至少三次** 的 **最长特殊子字符串** 的长度，如果不存在出现至少三次的特殊子字符串，则返回 `-1` 。

**子字符串** 是字符串中的一个连续 **非空** 字符序列。

 

**示例 1：**

```
输入： s = "aaaa"
输出： 2
解释： 出现三次的最长特殊子字符串是 "aa" ：子字符串 "aaaa"、"aaaa" 和 "aaaa"。
可以证明最大长度是 2 。
```

**示例 2：**

```
输入： s = "abcdef"
输出： -1
解释： 不存在出现至少三次的特殊子字符串。因此返回 -1 。
```

**示例 3：**

```
输入： s = "abcaba"
输出： 1
解释： 出现三次的最长特殊子字符串是 "a" ：子字符串 "abcaba"、"abcaba" 和 "abcaba"。
可以证明最大长度是 1 。
```

 

**提示：**

-   `3 <= s.length <= 5 * 105`
-   `s` 仅由小写英文字母组成。

```py
class Solution:
    def maximumLength(self, s: str) -> int:
        # s中每个字符的连续子字符串的长度list
        g=defaultdict(list)
        cnt=0
        for i,c in enumerate(s):
            cnt+=1
            if i==len(s)-1 or c!= s[i+1]:
                g[c].append(cnt)
                cnt=0
        r=0
        for a in g.values():
            a.sort(reverse=1)
            a.extend([0,0])
            # a[0] a[1] a[2] 是最长的三个 特殊子串的长度 从大到小
            # 那么 三个最长的特殊子串的来源有以下三种
            # a[0]的长度比a[1]长超过1
              # 三个都从 a[0] 中来，三个最长特殊子串长度都是a[0]-2
            # a[0]的长度比a[1]长不超过1
              # 两个来自a[0]，一个来自a[1],取较小值,长度是 min(a[0]-1,a[1]) 
            # a[0]中没法产生两个特殊子串，也就是 a[0] a[1] 长度都是1的情况
              # 只能看a[2]的长度了.有a[2],就为1;没有,为0
            r=max(r,a[0]-2,min(a[0]-1,a[1]),a[2])
        return r or -1



```