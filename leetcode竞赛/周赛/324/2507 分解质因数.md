2507. 使用质因数之和替换后可以取到的最小值

给你一个正整数 n 。

请你将 n 的值替换为 n 的 质因数 之和，重复这一过程。

注意，如果 n 能够被某个质因数多次整除，则在求和时，应当包含这个质因数同样次数。
返回 n 可以取到的最小值。

 

示例 1：

输入：n = 15
输出：5
解释：最开始，n = 15 。
15 = 3 * 5 ，所以 n 替换为 3 + 5 = 8 。
8 = 2 * 2 * 2 ，所以 n 替换为 2 + 2 + 2 = 6 。
6 = 2 * 3 ，所以 n 替换为 2 + 3 = 5 。
5 是 n 可以取到的最小值。

```py

# 分解质因数
class Solution:
    def smallestValue(self, n: int) -> int:
        # 求n的分解质因数之和
        def work(n:int):
            res = 0
            # 因子从2开始
            i=2
            # 数字n的因子关于√n对称
            while i*i <=n:
                # 分解出n的所有i因子，由于i从2枚举，这样后面n中不会有2的倍数的因子，3的倍数因子，
                # 这样i如果是n的因子，那么总是质因子
                while n%i==0:
                    n//=i
                    res+=i
                i+=1
            if n>1: res+=n
            return res
        while 1:
            i=2
            x=work(n)
            # 分解质因数的和等于自身，就不能继续分解了
            if x==n: break
            n=x
        return n